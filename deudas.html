<main class="w-full">
    <style>
        .modal { display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); align-items: center; justify-content: center; }
        .bg-blue-table { background-color: #1d4ed8; color: white; }
        .btn-active { background-color: #1d4ed8 !important; }
        .btn-inactive { background-color: #3b82f6 !important; }
    </style>

    <section class="mb-8">
        <p class="text-[10px] font-bold text-slate-500 uppercase tracking-wider mb-3 font-bold">Menú Ctas por Cobrar</p>
        <div class="flex gap-4">
            <button id="btnNavRegistro" type="button" class="btn-active text-white px-8 py-2 rounded-lg font-bold shadow-md uppercase text-xs transition-all">Registro Deuda</button>
            <button id="btnNavPago" type="button" class="btn-inactive text-white px-8 py-2 rounded-lg font-bold shadow-md uppercase text-xs transition-all">Pago Cuota</button>
        </div>
    </section>

    <div id="viewRegistro" class="bg-white border border-slate-200 p-8 rounded-xl shadow-sm animate-in fade-in">
        <h2 class="text-center font-bold mb-8 text-xl uppercase tracking-tight text-slate-800">Registro Deuda</h2>
        <div class="flex items-center gap-2 border-2 border-[#3b82f6] p-2 mb-8 bg-[#eff6ff] rounded-sm">
            <label class="font-bold text-sm text-[#1e40af] uppercase pl-2 font-bold">Cliente :</label>
            <input type="text" id="inputCliente" list="listaClientes" class="flex-1 bg-transparent border-none focus:ring-0 font-bold text-slate-700 italic" placeholder="Escriba para buscar cliente...">
            <datalist id="listaClientes"></datalist>
        </div>
        <div id="formComprobante" class="grid grid-cols-1 md:grid-cols-3 gap-6 hidden">
            <div class="space-y-1"><label class="text-[10px] font-bold text-slate-500 uppercase">Fecha Emisión</label><input type="date" id="fechaEmision" class="w-full rounded-lg border-slate-200"></div>
            <div class="space-y-1"><label class="text-[10px] font-bold text-slate-500 uppercase">Serie</label><input type="text" id="serieComprobante" class="w-full rounded-lg border-slate-200 uppercase" placeholder="F001"></div>
            <div class="space-y-1"><label class="text-[10px] font-bold text-slate-500 uppercase">Número</label><input type="number" id="nroComprobante" min="0" class="w-full rounded-lg border-slate-200"></div>
            <div class="space-y-1"><label class="text-[10px] font-bold text-slate-500 uppercase">Moneda</label><select id="monedaComprobante" class="w-full rounded-lg border-slate-200"><option value="S/.">Soles (S/.)</option><option value="US$">Dólares (US$)</option></select></div>
            <div class="space-y-1"><label class="text-[10px] font-bold text-slate-500 uppercase">Monto Total</label><input type="number" step="0.01" id="montoTotalComprobante" class="w-full rounded-lg border-slate-200"></div>
            <div class="space-y-1"><label class="text-[10px] font-bold text-slate-500 uppercase">Cuotas</label><input type="number" id="cuotasNroInput" class="w-full rounded-lg border-slate-200"></div>
            <div class="md:col-span-3 pt-4"><button id="btnGenerarCuotas" type="button" class="w-full bg-[#3b82f6] text-white py-3 rounded-lg font-bold uppercase shadow-lg">Configurar Cronograma de Pagos</button></div>
        </div>
        <div id="seccionResumen" class="mt-10 hidden border-t pt-8">
            <h3 class="text-blue-800 font-bold text-sm mb-4 uppercase">Resumen Cuotas a Registrar:</h3>
            <table class="w-full border-collapse border border-slate-200 text-sm font-bold">
                <thead><tr class="bg-blue-table text-white font-bold"><th class="border p-3 uppercase">Cuota #</th><th class="border p-3 uppercase">Vencimiento</th><th class="border p-3 uppercase">Monto</th></tr></thead>
                <tbody id="tablaResumenCuerpo" class="text-center text-slate-700"></tbody>
            </table>
            <div class="flex justify-end gap-4 mt-8">
                <button id="btnCancelarRegistro" type="button" class="bg-red-500 text-white px-10 py-3 rounded-lg font-bold uppercase">Cancelar</button>
                <button id="btnGuardarRegistro" type="button" class="bg-[#1e40af] text-white px-10 py-3 rounded-lg font-bold uppercase">Guardar Registro</button>
            </div>
        </div>
    </div>

    <div id="viewPago" class="bg-white border border-slate-200 p-8 rounded-xl shadow-sm hidden animate-in fade-in">
        <h2 class="text-center font-bold mb-8 text-xl uppercase tracking-tight text-slate-800 uppercase">Pago de Cuotas</h2>
        <div class="flex items-center gap-2 border-2 border-[#3b82f6] p-2 mb-8 bg-[#eff6ff] rounded-sm">
            <label class="font-bold text-sm text-[#1e40af] uppercase pl-2 font-bold">Cliente :</label>
            <input type="text" id="inputClientePago" list="listaClientesPago" class="flex-1 bg-transparent border-none focus:ring-0 font-bold text-slate-700 italic" placeholder="Buscar cliente con cuotas pendientes...">
            <datalist id="listaClientesPago"></datalist>
        </div>
        <div id="seccionGridPagos" class="mt-4 hidden">
            <div class="overflow-x-auto">
                <table class="w-full border-collapse text-[11px] font-bold">
                    <thead>
                        <tr class="bg-[#1d4ed8] text-white uppercase font-bold">
                            <th class="border p-3">Fecha Comp</th><th class="border p-3">Comprobante</th><th class="border p-3">Moneda</th><th class="border p-3">Total</th><th class="border p-3">Cuota #</th><th class="border p-3">Monto Cuota</th><th class="border p-3">Vencimiento</th><th class="border p-3">Acción</th>
                        </tr>
                    </thead>
                    <tbody id="tablaPagosCuerpo" class="text-center text-slate-700"></tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="modalPagarCuota" class="modal">
        <div class="bg-white p-8 rounded-xl w-full max-w-lg shadow-2xl animate-in zoom-in">
            <h2 class="text-green-800 font-bold text-xl text-center mb-6 uppercase">Pagar Cuota</h2>
            <div class="bg-slate-100 p-4 rounded-lg grid grid-cols-2 gap-y-2 mb-6 text-[11px] font-bold text-slate-600">
                <p>CLIENTE: <span id="resNombre" class="text-slate-900"></span></p>
                <p>COMPROBANTE: <span id="resComp" class="text-slate-900"></span></p>
                <p>CUOTA: <span id="resNro" class="text-slate-900"></span></p>
                <p>MONTO CUOTA: <span id="resMonto" class="text-slate-900 font-bold"></span></p>
            </div>
            <div class="grid grid-cols-2 gap-6">
                <div class="space-y-1"><label class="text-[10px] font-bold text-slate-500 uppercase">Fecha de Pago:</label><input type="date" id="pagoFecha" class="w-full rounded-lg border-slate-200"></div>
                <div class="space-y-1"><label class="text-[10px] font-bold text-slate-500 uppercase">Monto a Pagar:</label><input type="number" step="0.01" id="pagoMonto" class="w-full rounded-lg border-slate-200 font-bold"></div>
                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-slate-500 uppercase">Forma de Pago:</label>
                    <select id="pagoForma" class="w-full rounded-lg border-slate-200">
                        <option value="D">Depósito</option><option value="E">Efectivo</option><option value="B">Billetera Digital</option><option value="T">Tarjeta</option>
                    </select>
                </div>
                <div class="space-y-1"><label class="text-[10px] font-bold text-slate-500 uppercase">Nro Operación:</label><input type="text" id="pagoOperacion" class="w-full rounded-lg border-slate-200"></div>
            </div>
            <div class="flex gap-4 mt-8">
                <button id="btnCerrarModalPago" type="button" class="flex-1 bg-red-500 text-white py-3 rounded-lg font-bold uppercase hover:bg-red-600 shadow-md">Cancelar</button>
                <button id="btnConfirmarPago" type="button" class="flex-1 bg-blue-600 text-white py-3 rounded-lg font-bold uppercase hover:bg-blue-700 shadow-md">Pagar</button>
            </div>
        </div>
    </div>

    <div id="modalCuotas" class="modal">
        <div class="bg-white p-8 rounded-xl w-full max-w-md shadow-2xl relative">
            <div class="flex justify-between items-start mb-6">
                <h3 id="tituloModalCuota" class="font-bold text-xl text-blue-800 uppercase">Datos de Cuota</h3>
                <div class="text-right"><p class="text-[10px] font-bold text-slate-400 uppercase">Pendiente</p><p id="txtPendienteModal" class="text-red-600 font-bold text-lg leading-none">0.00</p></div>
            </div>
            <div class="space-y-6">
                <div><label class="block text-sm font-bold text-slate-600 mb-1 uppercase">Monto Cuota:</label><input type="number" step="0.01" id="cuotaMontoInput" class="w-full p-3 border-2 rounded-xl"></div>
                <div><label class="block text-sm font-bold text-slate-600 mb-1 uppercase">Fecha Vencimiento:</label><input type="date" id="cuotaFechaInput" class="w-full p-3 border-2 rounded-xl"></div>
                <button id="btnSiguienteCuota" class="w-full bg-[#3b82f6] text-white py-4 rounded-xl font-bold uppercase shadow-md">Continuar</button>
            </div>
        </div>
    </div>

    <script src="./JS/deudas.js"></script>
    <script src="./JS/pagoCuota.js"></script>
</main>